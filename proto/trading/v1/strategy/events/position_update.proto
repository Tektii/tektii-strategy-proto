syntax = "proto3";

package trading.v1.strategy.events;

import "trading/v1/strategy/common.proto";

// PositionUpdateEvent notifies of position changes.
message PositionUpdateEvent {
  // Trading symbol identifier
  string symbol = 1;
  // Current position size (positive for long, negative for short)
  strategy.PreciseDecimal quantity = 2;
  // Average entry price
  strategy.PreciseDecimal avg_price = 3;

  // P&L information
  // Unrealized profit/loss on the position
  strategy.PreciseDecimal unrealized_pnl = 4;
  // Realized profit/loss from closed portions
  strategy.PreciseDecimal realized_pnl = 5;
  // Current market value of the position
  strategy.PreciseDecimal market_value = 6;

  // Current market prices
  // Current market price of the symbol
  strategy.PreciseDecimal current_price = 7;
  // Current bid price
  strategy.PreciseDecimal bid = 8;
  // Current ask price
  strategy.PreciseDecimal ask = 9;
}
