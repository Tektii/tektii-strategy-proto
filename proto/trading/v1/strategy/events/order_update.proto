syntax = "proto3";

package trading.v1.strategy.events;

import "trading/v1/strategy/common.proto";

// OrderUpdateEvent notifies of order status changes.
message OrderUpdateEvent {
  // Unique order identifier
  string order_id = 1;
  // Trading symbol identifier
  string symbol = 2;
  // Current order status
  OrderStatus status = 3;
  // Buy or sell side
  OrderSide side = 4;
  // Type of order (market, limit, etc.)
  OrderType order_type = 5;

  // Quantities
  // Total order quantity
  double quantity = 6;
  // Quantity already filled
  double filled_quantity = 7;
  // Quantity remaining to be filled
  double remaining_quantity = 8;

  // Prices
  // Limit price for limit orders
  double limit_price = 9;
  // Stop price for stop orders
  double stop_price = 10;
  // Average price of fills so far
  double avg_fill_price = 11;

  // Timestamps
  // Order creation time
  int64 created_at_us = 12;
  // Last update time
  int64 updated_at_us = 13;

  // Additional information
  // Rejection reason if order was rejected
  string reject_reason = 14;
  // Custom key-value pairs for order tracking
  map<string, string> metadata = 15;
}
