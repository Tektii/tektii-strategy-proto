syntax = "proto3";

package trading.v1.strategy.events;

import "trading/v1/strategy/common.proto";

// AccountUpdateEvent notifies of account balance changes.
message AccountUpdateEvent {
  // Balance information
  // Available cash in the account
  strategy.PreciseDecimal cash_balance = 1;
  // Total value of all positions and cash
  strategy.PreciseDecimal portfolio_value = 2;
  // Available buying power for new positions
  strategy.PreciseDecimal buying_power = 3;

  // Margin information
  // Initial margin requirement
  strategy.PreciseDecimal initial_margin = 4;
  // Maintenance margin requirement
  strategy.PreciseDecimal maintenance_margin = 5;
  // Currently used margin
  strategy.PreciseDecimal margin_used = 6;

  // P&L information
  // Profit/loss for the current trading day
  strategy.PreciseDecimal daily_pnl = 7;
  // Total cumulative profit/loss
  strategy.PreciseDecimal total_pnl = 8;

  // Risk metrics
  // Current leverage ratio
  strategy.PreciseDecimal leverage = 9;
  // Additional provider-specific risk metrics
  map<string, strategy.PreciseDecimal> risk_metrics = 10;
}
