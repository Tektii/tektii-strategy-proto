syntax = "proto3";

package strategy.v1;

import "strategy/v1/strategy_common.proto";

// OrderUpdateEvent notifies about order status changes and fills.
message OrderUpdateEvent {
  // Unique order identifier
  string order_id = 1;
  // Trading symbol identifier
  string symbol = 2;
  // Current order status
  OrderStatus status = 3;
  // Buy or sell side
  OrderSide side = 4;
  // Type of order (market, limit, etc.)
  OrderType order_type = 5;

  // Quantities
  // Total order quantity
  PreciseDecimal quantity = 6;
  // Quantity already filled
  PreciseDecimal filled_quantity = 7;
  // Quantity remaining to be filled
  PreciseDecimal remaining_quantity = 8;

  // Prices
  // Limit price for limit orders
  PreciseDecimal limit_price = 9;
  // Stop price for stop orders
  PreciseDecimal stop_price = 10;
  // Average price of fills so far
  PreciseDecimal avg_fill_price = 11;

  // Timestamps
  // Order creation time
  int64 created_at_us = 12;
  // Last update time
  int64 updated_at_us = 13;

  // Additional information
  // Rejection reason if order was rejected
  string reject_reason = 14;
  // Custom key-value pairs for order tracking
  map<string, string> metadata = 15;
}
